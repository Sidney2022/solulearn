{% extends 'tutors/base.html' %}
{% load static %}

{% block content %}
{% include 'messages.html' %}
<!--Main container start -->
<main class="ttr-wrapper">
    <div class="container-fluid">
       
        <div class="row">
            <!-- Your Profile Views Chart -->
            <div class="col-lg-12 m-b30">
                <div class="widget-box">
                    <div class="wc-title">
                        <h4>Add New Course</h4>
                    </div>
                    <div class="widget-inner">
                        <form class="edit-profile m-b30" action="{% url 'add-course' %}" method ="post" id="form" enctype="multipart/form-data">
                            {% csrf_token %}
                            <div class="row">
                                <div class="col-12">
                                    <div class="ml-auto">
                                        <h3>1. Basic info</h3>
                                    </div>
                                </div>
                                <div class="form-group col-6">
                                    <label class="col-form-label">Course title</label>
                                    <div>
                                        <input required class="form-control" type="text" value="" name="title" id="title">
                                    </div>
                                </div>
                                <div class="form-group col-6">
                                    <label class="col-form-label">Course Category</label>
                                    <div>
                                        <select required style="color:#000 " name="category" class="form-control" id="cat"> 
                                            {% for category in courseCategories %}
                                            <option style="color:#000"> {{category}} </option>
                                            {%endfor%}
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="form-group col-6">
                                    <label class="col-form-label">Thumbnail</label>
                                    <div>
                                        <input required class="form-control" type="file" name="thumb" id="thumb">
                                    </div>
                                </div>
                               

                                <div class="form-group col-6">
                                    <label class="col-form-label">Skill Level</label>
                                    <div>
                                        <select required  style="color:#000 " name="level" class="form-control" id="cat"> 
                                            <option style="color:#000" value="beginners" >Novice </option>
                                            <option style="color:#000" value="intermediate">Intermediate </option>
                                            <option style="color:#000" value="advanced">Advanced/Professional </option>
                                           
                                        </select>
                                    </div>
                                </div>

                                <div class="form-group col-6">
                                    <label class="col-form-label">Price</label>
                                    <div>
                                        <input required class="form-control" type="number" name="price" id="thumb">
                                    </div>
                                </div>
                              
                              
                                </div>
                                <div class="seperator"></div>
                                
                                <div class="col-12 m-t20">
                                    <div class="ml-auto m-b5">
                                        <h3>2. Course Description</h3>
                                    </div>
                                </div>
                                <div class="form-group col-12">
                                    <label class="col-form-label">Course description</label>
                                    <div>
                                        <textarea required class="form-control" name="description"> </textarea>
                                    </div>
                                </div>
                                <div class="form-group col-12">
                                    <label class="col-form-label">Course Features (features are like bullet points. seperate individual features with double asteriks ** )</label>
                                    <div>
                                        <textarea required class="form-control" name="features"> </textarea>
                                    </div>
                                </div>
                              
                                <div class="col-12">
                                    <button type="submit" class="btn form-control">Create Course</button>
                                </div>
                                
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <!-- Your Profile Views Chart END-->
        </div>
    </div>
</main>
<div class="ttr-overlay"></div>

{% comment %} <script >  
    
    const Form = document.getElementById("form")
    Form.addEventListener("submit", (e) => {
        e.preventDefault()
        const Course = document.getElementById("title").value;
        const CourseCategory = document.getElementById("cat").value;
    

    fetch("{% url 'test' %}", {
        body: JSON.stringify({ title: Course,cat:CourseCategory  }),
        method: "POST",
      })
        .then((res) => res.json())
        .then((data) => {
          console.log("data", data);
          console.log(data.status);
          if (data.data_error ) {
            alert("course already exists")
          }
         
        });
    })
</script> {% endcomment %}

{% endblock  %}